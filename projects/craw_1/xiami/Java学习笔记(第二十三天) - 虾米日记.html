<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Java学习笔记(第二十三天) | 虾米日记</title>
  <link rel = 'canonical' href = 'https://wjinlei.github.io/posts/exp-java-day23/'>
  <meta name="description" content="对酒当歌，人生几何，譬如朝露，去日苦多">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Java学习笔记(第二十三天)" />
<meta property="og:description" content="字符串是不可变的  为什么字符串是不可变的?  为了线程安全(不可变代表着它是线程安全的) 为了存储安全   例如 HashMap,我们知道HashMap在存储的时候,会给元素计算一个hashCode值,假如你存储了一个字符串对象,
如果你修改了它,那么这个hashCode就和原来的值不一致了,这会违反了Object类中关于hashCode的约定,
因此为了我们能够在哈希桶中安全的使用String,字符串必须不可变
  不可变也导致了每当修改的时候都需要重复创建新的对象  因此请不要在循环中创建字符串对象    StringBuilder  优先使用,线程不安全,速度快  手写StringBuilder import java.nio.charset.Charset; import java.util.ArrayList; import java.util.List; import java.util.stream.Collectors; public class MyStringBuilder { public final List&lt;Character&gt; charList = new ArrayList&lt;&gt;(); public MyStringBuilder() { } // 在末尾添加一个字符  public MyStringBuilder append(char ch) { charList.add(charList.size(), ch); return this; } // 在末尾添加一个字符串，其数据需要从bytes字节数组中按照charsetName字符集解码得到  // 请思考一下字节和字符串（字符串本质上是字节数组）之间d关系  // 并查找相关API  public MyStringBuilder append(byte[] bytes, String charsetName) { new String(bytes, Charset." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wjinlei.github.io/posts/exp-java-day23/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-18T00:41:46+08:00" />
<meta property="article:modified_time" content="2021-11-18T00:41:46+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Java学习笔记(第二十三天)"/>
<meta name="twitter:description" content="字符串是不可变的  为什么字符串是不可变的?  为了线程安全(不可变代表着它是线程安全的) 为了存储安全   例如 HashMap,我们知道HashMap在存储的时候,会给元素计算一个hashCode值,假如你存储了一个字符串对象,
如果你修改了它,那么这个hashCode就和原来的值不一致了,这会违反了Object类中关于hashCode的约定,
因此为了我们能够在哈希桶中安全的使用String,字符串必须不可变
  不可变也导致了每当修改的时候都需要重复创建新的对象  因此请不要在循环中创建字符串对象    StringBuilder  优先使用,线程不安全,速度快  手写StringBuilder import java.nio.charset.Charset; import java.util.ArrayList; import java.util.List; import java.util.stream.Collectors; public class MyStringBuilder { public final List&lt;Character&gt; charList = new ArrayList&lt;&gt;(); public MyStringBuilder() { } // 在末尾添加一个字符  public MyStringBuilder append(char ch) { charList.add(charList.size(), ch); return this; } // 在末尾添加一个字符串，其数据需要从bytes字节数组中按照charsetName字符集解码得到  // 请思考一下字节和字符串（字符串本质上是字节数组）之间d关系  // 并查找相关API  public MyStringBuilder append(byte[] bytes, String charsetName) { new String(bytes, Charset."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://wjinlei.github.io/css/styles.4c2b9aa1d874d6766f554b2d404e8fd62ab4761f51ee9b3f358d12e81e7fa43a1b4378db995bc1926bbe5ed98c060be5e7bd4f2470504cf94f22b4b3a74e62b6.css" integrity="sha512-TCuaodh01nZvVUstQE6P1iq0dh9R7ps/NY0S6B5/pDobQ3jbmVvBkmu&#43;XtmMBgvl571PJHBQTPlPIrSzp05itg=="> 

  
   <link rel="stylesheet" href="https://wjinlei.github.io/css/custom.css"> 
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://wjinlei.github.io/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://wjinlei.github.io/posts/exp-java-day22/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://wjinlei.github.io/posts/exp-java-day24/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&text=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&is_video=false&description=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29&body=Check out this article: https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&name=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29&description=%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84%20%20%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84%3f%20%20%e4%b8%ba%e4%ba%86%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%28%e4%b8%8d%e5%8f%af%e5%8f%98%e4%bb%a3%e8%a1%a8%e7%9d%80%e5%ae%83%e6%98%af%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%e7%9a%84%29%20%e4%b8%ba%e4%ba%86%e5%ad%98%e5%82%a8%e5%ae%89%e5%85%a8%20%20%20%e4%be%8b%e5%a6%82%20HashMap%2c%e6%88%91%e4%bb%ac%e7%9f%a5%e9%81%93HashMap%e5%9c%a8%e5%ad%98%e5%82%a8%e7%9a%84%e6%97%b6%e5%80%99%2c%e4%bc%9a%e7%bb%99%e5%85%83%e7%b4%a0%e8%ae%a1%e7%ae%97%e4%b8%80%e4%b8%aahashCode%e5%80%bc%2c%e5%81%87%e5%a6%82%e4%bd%a0%e5%ad%98%e5%82%a8%e4%ba%86%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%af%b9%e8%b1%a1%2c%0a%e5%a6%82%e6%9e%9c%e4%bd%a0%e4%bf%ae%e6%94%b9%e4%ba%86%e5%ae%83%2c%e9%82%a3%e4%b9%88%e8%bf%99%e4%b8%aahashCode%e5%b0%b1%e5%92%8c%e5%8e%9f%e6%9d%a5%e7%9a%84%e5%80%bc%e4%b8%8d%e4%b8%80%e8%87%b4%e4%ba%86%2c%e8%bf%99%e4%bc%9a%e8%bf%9d%e5%8f%8d%e4%ba%86Object%e7%b1%bb%e4%b8%ad%e5%85%b3%e4%ba%8ehashCode%e7%9a%84%e7%ba%a6%e5%ae%9a%2c%0a%e5%9b%a0%e6%ad%a4%e4%b8%ba%e4%ba%86%e6%88%91%e4%bb%ac%e8%83%bd%e5%a4%9f%e5%9c%a8%e5%93%88%e5%b8%8c%e6%a1%b6%e4%b8%ad%e5%ae%89%e5%85%a8%e7%9a%84%e4%bd%bf%e7%94%a8String%2c%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%bf%85%e9%a1%bb%e4%b8%8d%e5%8f%af%e5%8f%98%0a%20%20%e4%b8%8d%e5%8f%af%e5%8f%98%e4%b9%9f%e5%af%bc%e8%87%b4%e4%ba%86%e6%af%8f%e5%bd%93%e4%bf%ae%e6%94%b9%e7%9a%84%e6%97%b6%e5%80%99%e9%83%bd%e9%9c%80%e8%a6%81%e9%87%8d%e5%a4%8d%e5%88%9b%e5%bb%ba%e6%96%b0%e7%9a%84%e5%af%b9%e8%b1%a1%20%20%e5%9b%a0%e6%ad%a4%e8%af%b7%e4%b8%8d%e8%a6%81%e5%9c%a8%e5%be%aa%e7%8e%af%e4%b8%ad%e5%88%9b%e5%bb%ba%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%af%b9%e8%b1%a1%20%20%20%20StringBuilder%20%20%e4%bc%98%e5%85%88%e4%bd%bf%e7%94%a8%2c%e7%ba%bf%e7%a8%8b%e4%b8%8d%e5%ae%89%e5%85%a8%2c%e9%80%9f%e5%ba%a6%e5%bf%ab%20%20%e6%89%8b%e5%86%99StringBuilder%20import%20java.nio.charset.Charset%3b%20import%20java.util.ArrayList%3b%20import%20java.util.List%3b%20import%20java.util.stream.Collectors%3b%20public%20class%20MyStringBuilder%20%7b%20public%20final%20List%26lt%3bCharacter%26gt%3b%20charList%20%3d%20new%20ArrayList%26lt%3b%26gt%3b%28%29%3b%20public%20MyStringBuilder%28%29%20%7b%20%7d%20%2f%2f%20%e5%9c%a8%e6%9c%ab%e5%b0%be%e6%b7%bb%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%20%20public%20MyStringBuilder%20append%28char%20ch%29%20%7b%20charList.add%28charList.size%28%29%2c%20ch%29%3b%20return%20this%3b%20%7d%20%2f%2f%20%e5%9c%a8%e6%9c%ab%e5%b0%be%e6%b7%bb%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e5%85%b6%e6%95%b0%e6%8d%ae%e9%9c%80%e8%a6%81%e4%bb%8ebytes%e5%ad%97%e8%8a%82%e6%95%b0%e7%bb%84%e4%b8%ad%e6%8c%89%e7%85%a7charsetName%e5%ad%97%e7%ac%a6%e9%9b%86%e8%a7%a3%e7%a0%81%e5%be%97%e5%88%b0%20%20%2f%2f%20%e8%af%b7%e6%80%9d%e8%80%83%e4%b8%80%e4%b8%8b%e5%ad%97%e8%8a%82%e5%92%8c%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%88%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%9c%ac%e8%b4%a8%e4%b8%8a%e6%98%af%e5%ad%97%e8%8a%82%e6%95%b0%e7%bb%84%ef%bc%89%e4%b9%8b%e9%97%b4d%e5%85%b3%e7%b3%bb%20%20%2f%2f%20%e5%b9%b6%e6%9f%a5%e6%89%be%e7%9b%b8%e5%85%b3API%20%20public%20MyStringBuilder%20append%28byte%5b%5d%20bytes%2c%20String%20charsetName%29%20%7b%20new%20String%28bytes%2c%20Charset." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&t=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Java学习笔记(第二十三天)
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-11-18 00:41:46 &#43;0800 CST" itemprop="datePublished">2021-11-18</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          13 minute read
        </div>
        
        
        
      </div>
    </header>

  
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#字符串是不可变的">字符串是不可变的</a>
      <ul>
        <li><a href="#stringbuilder">StringBuilder</a>
          <ul>
            <li><a href="#手写stringbuilder">手写StringBuilder</a></li>
          </ul>
        </li>
        <li><a href="#stringbuffer">StringBuffer</a></li>
        <li><a href="#编码与解码">编码与解码</a>
          <ul>
            <li><a href="#读取gbk文件">读取GBK文件</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#类型与反射">类型与反射</a>
      <ul>
        <li><a href="#java中的类型与class对象">Java中的类型与Class对象</a></li>
        <li><a href="#class对象从哪里来的">Class对象从哪里来的?</a>
          <ul>
            <li><a href="#实现一个自定义的classloader">实现一个自定义的ClassLoader</a></li>
          </ul>
        </li>
        <li><a href="#反射">反射</a>
          <ul>
            <li><a href="#什么是反射">什么是反射</a></li>
            <li><a href="#镜子是谁">镜子是谁</a></li>
            <li><a href="#反射解决了什么问题">反射解决了什么问题?</a></li>
            <li><a href="#反射的常用api">反射的常用API</a></li>
            <li><a href="#反射练习">反射练习</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    
    <div class="content" itemprop="articleBody">
      <h2 id="字符串是不可变的">字符串是不可变的</h2>
<ul>
<li>为什么字符串是不可变的?
<ul>
<li>为了线程安全(不可变代表着它是线程安全的)</li>
<li>为了存储安全</li>
</ul>
<blockquote>
<p>例如 HashMap,我们知道HashMap在存储的时候,会给元素计算一个hashCode值,假如你存储了一个字符串对象,<br>
如果你修改了它,那么这个hashCode就和原来的值不一致了,这会违反了Object类中关于hashCode的约定,<br>
因此为了我们能够在哈希桶中安全的使用String,字符串必须不可变</p>
</blockquote>
</li>
<li>不可变也导致了每当修改的时候都需要重复创建新的对象
<ul>
<li>因此请不要在循环中创建字符串对象</li>
</ul>
</li>
</ul>
<h3 id="stringbuilder">StringBuilder</h3>
<ul>
<li>优先使用,线程不安全,速度快</li>
</ul>
<h4 id="手写stringbuilder">手写StringBuilder</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.nio.charset.Charset</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.util.ArrayList</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.util.List</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.util.stream.Collectors</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MyStringBuilder</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">final</span> List<span style="color:#000;font-weight:bold">&lt;</span>Character<span style="color:#000;font-weight:bold">&gt;</span> charList <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> ArrayList<span style="color:#000;font-weight:bold">&lt;&gt;();</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">MyStringBuilder</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// 在末尾添加一个字符
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> MyStringBuilder <span style="color:#900;font-weight:bold">append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">char</span> ch<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        charList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>charList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">size</span><span style="color:#000;font-weight:bold">(),</span> ch<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// 在末尾添加一个字符串，其数据需要从bytes字节数组中按照charsetName字符集解码得到
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 请思考一下字节和字符串（字符串本质上是字节数组）之间d关系
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 并查找相关API
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> MyStringBuilder <span style="color:#900;font-weight:bold">append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">byte</span><span style="color:#000;font-weight:bold">[]</span> bytes<span style="color:#000;font-weight:bold">,</span> String charsetName<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">new</span> String<span style="color:#000;font-weight:bold">(</span>bytes<span style="color:#000;font-weight:bold">,</span> Charset<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">forName</span><span style="color:#000;font-weight:bold">(</span>charsetName<span style="color:#000;font-weight:bold">)).</span><span style="color:#008080">chars</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">forEach</span><span style="color:#000;font-weight:bold">(</span>ch <span style="color:#000;font-weight:bold">-&gt;</span> charList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">((</span><span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">)</span> ch<span style="color:#000;font-weight:bold">));</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// 在index指定位置添加一个字符ch
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> MyStringBuilder <span style="color:#900;font-weight:bold">insert</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">int</span> index<span style="color:#000;font-weight:bold">,</span> <span style="color:#458;font-weight:bold">char</span> ch<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        charList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">add</span><span style="color:#000;font-weight:bold">(</span>index<span style="color:#000;font-weight:bold">,</span> ch<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// 删除位于index处的字符
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> MyStringBuilder <span style="color:#900;font-weight:bold">deleteCharAt</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">int</span> index<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        charList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">remove</span><span style="color:#000;font-weight:bold">(</span>index<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
    <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">toString</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">return</span> charList<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stream</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">map</span><span style="color:#000;font-weight:bold">(</span>Object<span style="color:#000;font-weight:bold">::</span>toString<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">collect</span><span style="color:#000;font-weight:bold">(</span>Collectors<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">joining</span><span style="color:#000;font-weight:bold">());</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><h3 id="stringbuffer">StringBuffer</h3>
<ul>
<li>线程安全,速度相对StringBuilder要慢一些</li>
</ul>
<h3 id="编码与解码">编码与解码</h3>
<ul>
<li>将人类能看懂的字符变成字节,我们称为编码</li>
<li>将字节变成人类能看懂的字符,我们称为解码</li>
</ul>
<h4 id="读取gbk文件">读取GBK文件</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.io.BufferedReader</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.io.File</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.io.FileInputStream</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.io.IOException</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.io.InputStreamReader</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.nio.charset.Charset</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">GbkFileReader</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        File projectDir <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> File<span style="color:#000;font-weight:bold">(</span>System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getProperty</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;basedir&#34;</span><span style="color:#000;font-weight:bold">,</span> System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getProperty</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;user.dir&#34;</span><span style="color:#000;font-weight:bold">)));</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> GbkFileReader<span style="color:#000;font-weight:bold">().</span><span style="color:#008080">readFileWithGBK</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> File<span style="color:#000;font-weight:bold">(</span>projectDir<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;gbk.txt&#34;</span><span style="color:#000;font-weight:bold">)));</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">readFileWithGBK</span><span style="color:#000;font-weight:bold">(</span>File file<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        StringBuilder stringBuilder <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> StringBuilder<span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>BufferedReader bufferedReader <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> BufferedReader<span style="color:#000;font-weight:bold">(</span>
                <span style="color:#000;font-weight:bold">new</span> InputStreamReader<span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> FileInputStream<span style="color:#000;font-weight:bold">(</span>file<span style="color:#000;font-weight:bold">),</span> Charset<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">forName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;GBK&#34;</span><span style="color:#000;font-weight:bold">))))</span> <span style="color:#000;font-weight:bold">{</span>
            stringBuilder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">append</span><span style="color:#000;font-weight:bold">(</span>bufferedReader<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">readLine</span><span style="color:#000;font-weight:bold">());</span>
        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>IOException e<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span>e<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">return</span> stringBuilder<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toString</span><span style="color:#000;font-weight:bold">();</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><h2 id="类型与反射">类型与反射</h2>
<h3 id="java中的类型与class对象">Java中的类型与Class对象</h3>
<ul>
<li>一个Class对象就是一个类的说明书
<ul>
<li>JVM根据这个说明书创造出一个类的实例</li>
<li>静态变量就是Class对象中的变量,它归属与这个Class对象</li>
</ul>
</li>
<li>RTTI(Run-Time-Type-Identification) 运行时类型识别
<ul>
<li>任何一个对象,在运行时JVM都清楚的知道它是什么类型的,就是因为它知道这个对象是根据哪个Class对象创造出来的</li>
<li>instanceof 就是利用了RTTI这个特性</li>
<li>强制类型转换时也是利用了这个特性,JVM清楚的知道这个对象能不能被转换成其他类型</li>
</ul>
</li>
</ul>
<h3 id="class对象从哪里来的">Class对象从哪里来的?</h3>
<ul>
<li>Class对象的生命周期
<img src="/image/exp-java-day23/01.png" alt="Class对象的生命周期"></li>
<li>Class对象在类第一次被使用时加载</li>
<li>Class对象通过ClassLoader(类加载器加载)
<ul>
<li>ClassLoader负责从外部系统中加载一个类
<ul>
<li>这个类的.java(源)文件不一定需要存在</li>
<li>这个类的.class(字节码)文件也不一定需要存在</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">Class不一定非要从文件中读取,还可以从网络上直接读取并加载进JVM虚拟机
Class也不一定非要从.java源码文件编译而来,你可以直接根据JVM虚拟机规范创造一个Class
Java 和 Class 没有任何关系,它们是两种东西,分别遵从两种规范
  1. Java Language Specification 语言规范
  2. Java Virtual Machine Specification 虚拟机规范
这种分离提供了在JVM上运行其他语言的可能,比如Groovy,Kotlin
</code></pre></div><ul>
<li>ClassLoader的双亲委派加载模型(避免加载恶意类)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">每一个ClassLoader对象都有一个父亲对象,在加载一个类时,它会先询问父亲类有没有对应的类  
如果有,则由父亲直接加载,并返回,否则自己再查找这个类并加载,这样避免了加载恶意构造的类
</code></pre></div><h4 id="实现一个自定义的classloader">实现一个自定义的ClassLoader</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.io.File</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.io.IOException</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.nio.file.Files</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MyClassLoader</span> <span style="color:#000;font-weight:bold">extends</span> ClassLoader <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// 存放字节码文件的目录
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">final</span> File bytecodeFileDirectory<span style="color:#000;font-weight:bold">;</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">MyClassLoader</span><span style="color:#000;font-weight:bold">(</span>File bytecodeFileDirectory<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">bytecodeFileDirectory</span> <span style="color:#000;font-weight:bold">=</span> bytecodeFileDirectory<span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// 还记得类加载器是做什么的么？
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// &#34;从外部系统中，加载一个类的定义（即Class对象）&#34;
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 请实现一个自定义的类加载器，将当前目录中的字节码文件加载成为Class对象
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 提示，一般来说，要实现自定义的类加载器，你需要覆盖以下方法，完成：
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 1.如果类名对应的字节码文件存在，则将它读取成为字节数组
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//   1.1 调用ClassLoader.defineClass()方法将字节数组转化为Class对象
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 2.如果类名对应的字节码文件不存在，则抛出ClassNotFoundException
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 一个用于测试的字节码文件可以在本项目的根目录找到
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 请思考：双亲委派加载模型在哪儿？为什么我们没有处理？
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 扩展阅读：ClassLoader类的Javadoc文档
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#3c5d5d;font-weight:bold">@Override</span>
    <span style="color:#000;font-weight:bold">protected</span> Class<span style="color:#000;font-weight:bold">&lt;?&gt;</span> findClass<span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">throws</span> ClassNotFoundException <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#458;font-weight:bold">byte</span><span style="color:#000;font-weight:bold">[]</span> bytes <span style="color:#000;font-weight:bold">=</span> Files<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">readAllBytes</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> File<span style="color:#000;font-weight:bold">(</span>bytecodeFileDirectory<span style="color:#000;font-weight:bold">,</span> name <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;.class&#34;</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">toPath</span><span style="color:#000;font-weight:bold">());</span>
            <span style="color:#000;font-weight:bold">return</span> defineClass<span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">,</span> bytes<span style="color:#000;font-weight:bold">,</span> 0<span style="color:#000;font-weight:bold">,</span> bytes<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>IOException e<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> ClassNotFoundException<span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">throws</span> Exception <span style="color:#000;font-weight:bold">{</span>
        File projectRoot <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> File<span style="color:#000;font-weight:bold">(</span>System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getProperty</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;basedir&#34;</span><span style="color:#000;font-weight:bold">,</span> System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getProperty</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;user.dir&#34;</span><span style="color:#000;font-weight:bold">)));</span>
        MyClassLoader myClassLoader <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> MyClassLoader<span style="color:#000;font-weight:bold">(</span>projectRoot<span style="color:#000;font-weight:bold">);</span>

        Class testClass <span style="color:#000;font-weight:bold">=</span> myClassLoader<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">loadClass</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;com.github.hcsp.MyTestClass&#34;</span><span style="color:#000;font-weight:bold">);</span>
        Object testClassInstance <span style="color:#000;font-weight:bold">=</span> testClass<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConstructor</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">newInstance</span><span style="color:#000;font-weight:bold">();</span>
        String message <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">)</span> testClass<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMethod</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;sayHello&#34;</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">invoke</span><span style="color:#000;font-weight:bold">(</span>testClassInstance<span style="color:#000;font-weight:bold">);</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>message<span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><h3 id="反射">反射</h3>
<h4 id="什么是反射">什么是反射</h4>
<p>一个人,站在镜子面前,看镜子里的自己,我们称为反射,也叫内省,同理,一个对象,通过一面镜子,能看到自己内部的东西,也叫反射</p>
<h4 id="镜子是谁">镜子是谁</h4>
<ul>
<li>Class对象就是镜子</li>
</ul>
<h4 id="反射解决了什么问题">反射解决了什么问题?</h4>
<ul>
<li>根据参数动态创建一个对象</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">throws</span> ClassNotFoundException<span style="color:#000;font-weight:bold">,</span> NoSuchMethodException<span style="color:#000;font-weight:bold">,</span> InvocationTargetException<span style="color:#000;font-weight:bold">,</span> InstantiationException<span style="color:#000;font-weight:bold">,</span> IllegalAccessException <span style="color:#000;font-weight:bold">{</span>
        Class<span style="color:#000;font-weight:bold">&lt;?&gt;</span> clazz <span style="color:#000;font-weight:bold">=</span> Class<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">forName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;java.lang.StringBuilder&#34;</span><span style="color:#000;font-weight:bold">);</span>
        Object o <span style="color:#000;font-weight:bold">=</span> clazz<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConstructor</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">newInstance</span><span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">((</span>StringBuilder<span style="color:#000;font-weight:bold">)</span> o<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">append</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;Hello World!&#34;</span><span style="color:#000;font-weight:bold">);</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>o<span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><ul>
<li>根据参数动态调用一个方法</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Demo</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">foo</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;foo() is running...&#34;</span><span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">bar</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;bar() is running...&#34;</span><span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">throws</span> NoSuchMethodException<span style="color:#000;font-weight:bold">,</span> InvocationTargetException<span style="color:#000;font-weight:bold">,</span> IllegalAccessException <span style="color:#000;font-weight:bold">{</span>
        Demo demo <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Demo<span style="color:#000;font-weight:bold">();</span>
        demo<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getClass</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getMethod</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;bar&#34;</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">invoke</span><span style="color:#000;font-weight:bold">(</span>demo<span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><ul>
<li>根据参数动态获取一个属性</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Demo</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">public</span> String name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">int</span> age<span style="color:#000;font-weight:bold">;</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">Demo</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">,</span> <span style="color:#458;font-weight:bold">int</span> age<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">age</span> <span style="color:#000;font-weight:bold">=</span> age<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">throws</span> IllegalAccessException<span style="color:#000;font-weight:bold">,</span> NoSuchFieldException <span style="color:#000;font-weight:bold">{</span>
        Demo demo <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> Demo<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;MaoMao&#34;</span><span style="color:#000;font-weight:bold">,</span> 3<span style="color:#000;font-weight:bold">);</span>
        Object name <span style="color:#000;font-weight:bold">=</span> demo<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getClass</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getField</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;name&#34;</span><span style="color:#000;font-weight:bold">).</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">(</span>demo<span style="color:#000;font-weight:bold">);</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><h4 id="反射的常用api">反射的常用API</h4>
<ul>
<li>getClass</li>
<li>Class.forName</li>
<li>getConstructor</li>
<li>getMethod</li>
<li>getField</li>
<li>invoke</li>
</ul>
<h4 id="反射练习">反射练习</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.lang.reflect.InvocationTargetException</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.lang.reflect.Method</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.util.HashMap</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">import</span> <span style="color:#555">java.util.Map</span><span style="color:#000;font-weight:bold">;</span>

<span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">MapBeanConverter</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// 传入一个遵守Java Bean约定的对象，读取它的所有属性，存储成为一个Map
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// https://github.com/hcsp/map-bean-converter/pull/143/files例如，对于一个DemoJavaBean对象 { id = 1, name = &#34;ABC&#34; }
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 应当返回一个Map { id -&gt; 1, name -&gt; &#34;ABC&#34;, longName -&gt; false }
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 提示：
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  1. 读取传入参数bean的Class
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  2. 通过反射获得它包含的所有名为getXXX/isXXX，且无参数的方法（即getter方法）
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  3. 通过反射调用这些方法并将获得的值存储到Map中返回
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> Object<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">beanToMap</span><span style="color:#000;font-weight:bold">(</span>Object bean<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> Object<span style="color:#000;font-weight:bold">&gt;</span> hashMap <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
        Class<span style="color:#000;font-weight:bold">&lt;?&gt;</span> clazz <span style="color:#000;font-weight:bold">=</span> bean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getClass</span><span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Method method <span style="color:#000;font-weight:bold">:</span> clazz<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMethods</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>isGet<span style="color:#000;font-weight:bold">(</span>method<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
                javaBeanToMap<span style="color:#000;font-weight:bold">(</span>bean<span style="color:#000;font-weight:bold">,</span> hashMap<span style="color:#000;font-weight:bold">,</span> method<span style="color:#000;font-weight:bold">,</span> 3<span style="color:#000;font-weight:bold">);</span>
            <span style="color:#000;font-weight:bold">}</span>
            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>isIs<span style="color:#000;font-weight:bold">(</span>method<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
                javaBeanToMap<span style="color:#000;font-weight:bold">(</span>bean<span style="color:#000;font-weight:bold">,</span> hashMap<span style="color:#000;font-weight:bold">,</span> method<span style="color:#000;font-weight:bold">,</span> 2<span style="color:#000;font-weight:bold">);</span>
            <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">return</span> hashMap<span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#998;font-style:italic">// 传入一个遵守Java Bean约定的Class和一个Map，生成一个该对象的实例
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 传入参数DemoJavaBean.class和Map { id -&gt; 1, name -&gt; &#34;ABC&#34;}
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 应当返回一个DemoJavaBean对象 { id = 1, name = &#34;ABC&#34; }
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 提示：
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  1. 遍历map中的所有键值对，寻找klass中名为setXXX，且参数为对应值类型的方法（即setter方法）
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  2. 使用反射创建klass对象的一个实例
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//  3. 使用反射调用setter方法对该实例的字段进行设值
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">&lt;</span>T<span style="color:#000;font-weight:bold">&gt;</span> T <span style="color:#900;font-weight:bold">mapToBean</span><span style="color:#000;font-weight:bold">(</span>Class<span style="color:#000;font-weight:bold">&lt;</span>T<span style="color:#000;font-weight:bold">&gt;</span> klass<span style="color:#000;font-weight:bold">,</span> Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> Object<span style="color:#000;font-weight:bold">&gt;</span> map<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        T bean <span style="color:#000;font-weight:bold">=</span> newInstance<span style="color:#000;font-weight:bold">(</span>klass<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Method method <span style="color:#000;font-weight:bold">:</span> klass<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getMethods</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>isSet<span style="color:#000;font-weight:bold">(</span>method<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
                String field <span style="color:#000;font-weight:bold">=</span> getJavaBeanField<span style="color:#000;font-weight:bold">(</span>method<span style="color:#000;font-weight:bold">,</span> 3<span style="color:#000;font-weight:bold">);</span>
                map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">forEach</span><span style="color:#000;font-weight:bold">((</span>k<span style="color:#000;font-weight:bold">,</span> v<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">-&gt;</span> <span style="color:#000;font-weight:bold">{</span>
                    <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>k<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span>field<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
                        invoke<span style="color:#000;font-weight:bold">(</span>method<span style="color:#000;font-weight:bold">,</span> bean<span style="color:#000;font-weight:bold">,</span> v<span style="color:#000;font-weight:bold">);</span>
                    <span style="color:#000;font-weight:bold">}</span>
                <span style="color:#000;font-weight:bold">});</span>
            <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">return</span> bean<span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">boolean</span> <span style="color:#900;font-weight:bold">isIs</span><span style="color:#000;font-weight:bold">(</span>Method method<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        String name <span style="color:#000;font-weight:bold">=</span> method<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">startsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;is&#34;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&gt;</span> 2 <span style="color:#000;font-weight:bold">&amp;&amp;</span> method<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getParameterCount</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">==</span> 0<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>Character<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isUpperCase</span><span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toCharArray</span><span style="color:#000;font-weight:bold">()[</span>2<span style="color:#000;font-weight:bold">]))</span> <span style="color:#000;font-weight:bold">{</span>
                <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">boolean</span> <span style="color:#900;font-weight:bold">isGet</span><span style="color:#000;font-weight:bold">(</span>Method method<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        String name <span style="color:#000;font-weight:bold">=</span> method<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">startsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;get&#34;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#000;font-weight:bold">!</span><span style="color:#d14">&#34;getClass&#34;</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">equals</span><span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&gt;</span> 3 <span style="color:#000;font-weight:bold">&amp;&amp;</span> method<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getParameterCount</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">==</span> 0<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>Character<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isUpperCase</span><span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toCharArray</span><span style="color:#000;font-weight:bold">()[</span>3<span style="color:#000;font-weight:bold">]))</span> <span style="color:#000;font-weight:bold">{</span>
                <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">boolean</span> <span style="color:#900;font-weight:bold">isSet</span><span style="color:#000;font-weight:bold">(</span>Method method<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        String name <span style="color:#000;font-weight:bold">=</span> method<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">startsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;set&#34;</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&gt;</span> 3<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>Character<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isUpperCase</span><span style="color:#000;font-weight:bold">(</span>name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toCharArray</span><span style="color:#000;font-weight:bold">()[</span>3<span style="color:#000;font-weight:bold">]))</span> <span style="color:#000;font-weight:bold">{</span>
                <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">}</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">;</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">javaBeanToMap</span><span style="color:#000;font-weight:bold">(</span>Object bean<span style="color:#000;font-weight:bold">,</span> Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> Object<span style="color:#000;font-weight:bold">&gt;</span> hashMap<span style="color:#000;font-weight:bold">,</span> Method method<span style="color:#000;font-weight:bold">,</span> <span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        hashMap<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span>getJavaBeanField<span style="color:#000;font-weight:bold">(</span>method<span style="color:#000;font-weight:bold">,</span> i<span style="color:#000;font-weight:bold">),</span> invoke<span style="color:#000;font-weight:bold">(</span>method<span style="color:#000;font-weight:bold">,</span> bean<span style="color:#000;font-weight:bold">));</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> String <span style="color:#900;font-weight:bold">getJavaBeanField</span><span style="color:#000;font-weight:bold">(</span>Method method<span style="color:#000;font-weight:bold">,</span> <span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#458;font-weight:bold">char</span><span style="color:#000;font-weight:bold">[]</span> field <span style="color:#000;font-weight:bold">=</span> method<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">substring</span><span style="color:#000;font-weight:bold">(</span>i<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">toCharArray</span><span style="color:#000;font-weight:bold">();</span>
        field<span style="color:#000;font-weight:bold">[</span>0<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">=</span> Character<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toLowerCase</span><span style="color:#000;font-weight:bold">(</span>field<span style="color:#000;font-weight:bold">[</span>0<span style="color:#000;font-weight:bold">]);</span>
        <span style="color:#000;font-weight:bold">return</span> String<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">valueOf</span><span style="color:#000;font-weight:bold">(</span>field<span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> Object <span style="color:#900;font-weight:bold">invoke</span><span style="color:#000;font-weight:bold">(</span>Method method<span style="color:#000;font-weight:bold">,</span> Object bean<span style="color:#000;font-weight:bold">,</span> Object<span style="color:#000;font-weight:bold">...</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> method<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">invoke</span><span style="color:#000;font-weight:bold">(</span>bean<span style="color:#000;font-weight:bold">,</span> args<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>IllegalAccessException <span style="color:#000;font-weight:bold">|</span> InvocationTargetException e<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span>e<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">&lt;</span>T<span style="color:#000;font-weight:bold">&gt;</span> T <span style="color:#900;font-weight:bold">newInstance</span><span style="color:#000;font-weight:bold">(</span>Class<span style="color:#000;font-weight:bold">&lt;</span>T<span style="color:#000;font-weight:bold">&gt;</span> klass<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> klass<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConstructor</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">newInstance</span><span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>InstantiationException <span style="color:#000;font-weight:bold">|</span> NoSuchMethodException <span style="color:#000;font-weight:bold">|</span> InvocationTargetException <span style="color:#000;font-weight:bold">|</span> IllegalAccessException e<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> RuntimeException<span style="color:#000;font-weight:bold">(</span>e<span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        DemoJavaBean bean <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> DemoJavaBean<span style="color:#000;font-weight:bold">();</span>
        bean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setId</span><span style="color:#000;font-weight:bold">(</span>100<span style="color:#000;font-weight:bold">);</span>
        bean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;AAAAAAAAAAAAAAAAAAA&#34;</span><span style="color:#000;font-weight:bold">);</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>beanToMap<span style="color:#000;font-weight:bold">(</span>bean<span style="color:#000;font-weight:bold">));</span>

        Map<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">,</span> Object<span style="color:#000;font-weight:bold">&gt;</span> map <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HashMap<span style="color:#000;font-weight:bold">&lt;&gt;();</span>
        map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">,</span> 123<span style="color:#000;font-weight:bold">);</span>
        map<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">put</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;name&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;ABCDEFG&#34;</span><span style="color:#000;font-weight:bold">);</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>mapToBean<span style="color:#000;font-weight:bold">(</span>DemoJavaBean<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">class</span><span style="color:#000;font-weight:bold">,</span> map<span style="color:#000;font-weight:bold">));</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">DemoJavaBean</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">private</span> Integer id<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">private</span> String name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">private</span> String privateField <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;privateField&#34;</span><span style="color:#000;font-weight:bold">;</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">isolate</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>privateField<span style="color:#000;font-weight:bold">);</span>
            <span style="color:#000;font-weight:bold">return</span> 0<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">is</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;&#34;</span><span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> Integer <span style="color:#900;font-weight:bold">getId</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> id<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setId</span><span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">id</span> <span style="color:#000;font-weight:bold">=</span> id<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getName</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> name <span style="color:#000;font-weight:bold">+</span> i<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setName</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">boolean</span> <span style="color:#900;font-weight:bold">isLongName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">&gt;</span> 10<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#3c5d5d;font-weight:bold">@Override</span>
        <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">toString</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;DemoJavaBean{&#34;</span>
                    <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;id=&#34;</span>
                    <span style="color:#000;font-weight:bold">+</span> id
                    <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;, name=&#39;&#34;</span>
                    <span style="color:#000;font-weight:bold">+</span> name
                    <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#39;\&#39;&#39;</span>
                    <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34;, longName=&#34;</span>
                    <span style="color:#000;font-weight:bold">+</span> isLongName<span style="color:#000;font-weight:bold">()</span>
                    <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#39;}&#39;</span><span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div>
    </div>
  </article>

  
  




  <div class="blog-post-comments">
    
      <div id="disquss_thread">
  <script src="https://utteranc.es/client.js"
    repo="Wjinlei/wjinlei.github.io"
    issue-term="pathname"
    label="Wjinlei"
    theme="github-light"
    crossorigin="anonymous"
    async>
  </script>
</div>

    
  </div>



  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&text=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&is_video=false&description=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29&body=Check out this article: https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&name=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29&description=%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84%20%20%e4%b8%ba%e4%bb%80%e4%b9%88%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%98%af%e4%b8%8d%e5%8f%af%e5%8f%98%e7%9a%84%3f%20%20%e4%b8%ba%e4%ba%86%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%28%e4%b8%8d%e5%8f%af%e5%8f%98%e4%bb%a3%e8%a1%a8%e7%9d%80%e5%ae%83%e6%98%af%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%e7%9a%84%29%20%e4%b8%ba%e4%ba%86%e5%ad%98%e5%82%a8%e5%ae%89%e5%85%a8%20%20%20%e4%be%8b%e5%a6%82%20HashMap%2c%e6%88%91%e4%bb%ac%e7%9f%a5%e9%81%93HashMap%e5%9c%a8%e5%ad%98%e5%82%a8%e7%9a%84%e6%97%b6%e5%80%99%2c%e4%bc%9a%e7%bb%99%e5%85%83%e7%b4%a0%e8%ae%a1%e7%ae%97%e4%b8%80%e4%b8%aahashCode%e5%80%bc%2c%e5%81%87%e5%a6%82%e4%bd%a0%e5%ad%98%e5%82%a8%e4%ba%86%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%af%b9%e8%b1%a1%2c%0a%e5%a6%82%e6%9e%9c%e4%bd%a0%e4%bf%ae%e6%94%b9%e4%ba%86%e5%ae%83%2c%e9%82%a3%e4%b9%88%e8%bf%99%e4%b8%aahashCode%e5%b0%b1%e5%92%8c%e5%8e%9f%e6%9d%a5%e7%9a%84%e5%80%bc%e4%b8%8d%e4%b8%80%e8%87%b4%e4%ba%86%2c%e8%bf%99%e4%bc%9a%e8%bf%9d%e5%8f%8d%e4%ba%86Object%e7%b1%bb%e4%b8%ad%e5%85%b3%e4%ba%8ehashCode%e7%9a%84%e7%ba%a6%e5%ae%9a%2c%0a%e5%9b%a0%e6%ad%a4%e4%b8%ba%e4%ba%86%e6%88%91%e4%bb%ac%e8%83%bd%e5%a4%9f%e5%9c%a8%e5%93%88%e5%b8%8c%e6%a1%b6%e4%b8%ad%e5%ae%89%e5%85%a8%e7%9a%84%e4%bd%bf%e7%94%a8String%2c%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%bf%85%e9%a1%bb%e4%b8%8d%e5%8f%af%e5%8f%98%0a%20%20%e4%b8%8d%e5%8f%af%e5%8f%98%e4%b9%9f%e5%af%bc%e8%87%b4%e4%ba%86%e6%af%8f%e5%bd%93%e4%bf%ae%e6%94%b9%e7%9a%84%e6%97%b6%e5%80%99%e9%83%bd%e9%9c%80%e8%a6%81%e9%87%8d%e5%a4%8d%e5%88%9b%e5%bb%ba%e6%96%b0%e7%9a%84%e5%af%b9%e8%b1%a1%20%20%e5%9b%a0%e6%ad%a4%e8%af%b7%e4%b8%8d%e8%a6%81%e5%9c%a8%e5%be%aa%e7%8e%af%e4%b8%ad%e5%88%9b%e5%bb%ba%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%af%b9%e8%b1%a1%20%20%20%20StringBuilder%20%20%e4%bc%98%e5%85%88%e4%bd%bf%e7%94%a8%2c%e7%ba%bf%e7%a8%8b%e4%b8%8d%e5%ae%89%e5%85%a8%2c%e9%80%9f%e5%ba%a6%e5%bf%ab%20%20%e6%89%8b%e5%86%99StringBuilder%20import%20java.nio.charset.Charset%3b%20import%20java.util.ArrayList%3b%20import%20java.util.List%3b%20import%20java.util.stream.Collectors%3b%20public%20class%20MyStringBuilder%20%7b%20public%20final%20List%26lt%3bCharacter%26gt%3b%20charList%20%3d%20new%20ArrayList%26lt%3b%26gt%3b%28%29%3b%20public%20MyStringBuilder%28%29%20%7b%20%7d%20%2f%2f%20%e5%9c%a8%e6%9c%ab%e5%b0%be%e6%b7%bb%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%20%20public%20MyStringBuilder%20append%28char%20ch%29%20%7b%20charList.add%28charList.size%28%29%2c%20ch%29%3b%20return%20this%3b%20%7d%20%2f%2f%20%e5%9c%a8%e6%9c%ab%e5%b0%be%e6%b7%bb%e5%8a%a0%e4%b8%80%e4%b8%aa%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%8c%e5%85%b6%e6%95%b0%e6%8d%ae%e9%9c%80%e8%a6%81%e4%bb%8ebytes%e5%ad%97%e8%8a%82%e6%95%b0%e7%bb%84%e4%b8%ad%e6%8c%89%e7%85%a7charsetName%e5%ad%97%e7%ac%a6%e9%9b%86%e8%a7%a3%e7%a0%81%e5%be%97%e5%88%b0%20%20%2f%2f%20%e8%af%b7%e6%80%9d%e8%80%83%e4%b8%80%e4%b8%8b%e5%ad%97%e8%8a%82%e5%92%8c%e5%ad%97%e7%ac%a6%e4%b8%b2%ef%bc%88%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%9c%ac%e8%b4%a8%e4%b8%8a%e6%98%af%e5%ad%97%e8%8a%82%e6%95%b0%e7%bb%84%ef%bc%89%e4%b9%8b%e9%97%b4d%e5%85%b3%e7%b3%bb%20%20%2f%2f%20%e5%b9%b6%e6%9f%a5%e6%89%be%e7%9b%b8%e5%85%b3API%20%20public%20MyStringBuilder%20append%28byte%5b%5d%20bytes%2c%20String%20charsetName%29%20%7b%20new%20String%28bytes%2c%20Charset." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day23%2f&t=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%89%e5%a4%a9%29" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  this 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
