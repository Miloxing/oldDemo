<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Java学习笔记(第二十一天) | 虾米日记</title>
  <link rel = 'canonical' href = 'https://wjinlei.github.io/posts/exp-java-day21/'>
  <meta name="description" content="对酒当歌，人生几何，譬如朝露，去日苦多">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Java学习笔记(第二十一天)" />
<meta property="og:description" content="Java 8 Stream  一个流 简化代码 不易出错 可读性/可维护性&#43;&#43;  什么是流 你可以把它想象成一条水流,它会把集合中的元素一个一个放入这条水流中
无论集合是有序的还是无序的,它们在流中都会一个一个的按照顺序被取出
你可以对取出的每一个元素做无限次数的中间处理和一次终结操作
终结操作后,这个流就被销毁了
如何获得流 普通流  任何的集合调用.stream()方法就可以得到一个流 Stream.of String.chars IntStream.range  并发流 拿到一个流后还可以把它转换成并发流.parallel()
Collection.parallelStream() 集合中这个方法也可以返回一个并发流
并发流可以用在一些中间操作相互独立没有依赖关系的情况下,可以提升效率,可以并行的玩完成
并发流的使用要相当小心,你要确认是否有线程安全问题,也要确认是否给你带来了性能提升
否则就忘掉它吧
可以对流中的元素做哪些中间处理 常见的中间操作  filter 过滤 sorted 排序 map 映射  可以对流做哪些终结操作 任何返回非stream的操作都是终结操作
常见的终结操作  collect 收集  Collectors.toList Collectors.toSet Collectors.toCollection Collectors.groupingBy Collectors.partitioningBy Collectors.joining Collectors.summingInt   forEach 循环每个元素 count/max/min anyMatch/noneMatch findFirst/findAny 用在filter操作之后,取第一个或任意取一个,返回值是一个Optional,因为filter可能没有匹配的  Optional的正确用法 不要把它当成空指针用,它的正确用法是和函数式绑定
public class Main { private static class User { private String name; private int age; public User(String name, int age) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wjinlei.github.io/posts/exp-java-day21/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-16T19:59:52+08:00" />
<meta property="article:modified_time" content="2021-11-16T19:59:52+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Java学习笔记(第二十一天)"/>
<meta name="twitter:description" content="Java 8 Stream  一个流 简化代码 不易出错 可读性/可维护性&#43;&#43;  什么是流 你可以把它想象成一条水流,它会把集合中的元素一个一个放入这条水流中
无论集合是有序的还是无序的,它们在流中都会一个一个的按照顺序被取出
你可以对取出的每一个元素做无限次数的中间处理和一次终结操作
终结操作后,这个流就被销毁了
如何获得流 普通流  任何的集合调用.stream()方法就可以得到一个流 Stream.of String.chars IntStream.range  并发流 拿到一个流后还可以把它转换成并发流.parallel()
Collection.parallelStream() 集合中这个方法也可以返回一个并发流
并发流可以用在一些中间操作相互独立没有依赖关系的情况下,可以提升效率,可以并行的玩完成
并发流的使用要相当小心,你要确认是否有线程安全问题,也要确认是否给你带来了性能提升
否则就忘掉它吧
可以对流中的元素做哪些中间处理 常见的中间操作  filter 过滤 sorted 排序 map 映射  可以对流做哪些终结操作 任何返回非stream的操作都是终结操作
常见的终结操作  collect 收集  Collectors.toList Collectors.toSet Collectors.toCollection Collectors.groupingBy Collectors.partitioningBy Collectors.joining Collectors.summingInt   forEach 循环每个元素 count/max/min anyMatch/noneMatch findFirst/findAny 用在filter操作之后,取第一个或任意取一个,返回值是一个Optional,因为filter可能没有匹配的  Optional的正确用法 不要把它当成空指针用,它的正确用法是和函数式绑定
public class Main { private static class User { private String name; private int age; public User(String name, int age) { this."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://wjinlei.github.io/css/styles.4c2b9aa1d874d6766f554b2d404e8fd62ab4761f51ee9b3f358d12e81e7fa43a1b4378db995bc1926bbe5ed98c060be5e7bd4f2470504cf94f22b4b3a74e62b6.css" integrity="sha512-TCuaodh01nZvVUstQE6P1iq0dh9R7ps/NY0S6B5/pDobQ3jbmVvBkmu&#43;XtmMBgvl571PJHBQTPlPIrSzp05itg=="> 

  
   <link rel="stylesheet" href="https://wjinlei.github.io/css/custom.css"> 
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://wjinlei.github.io/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://wjinlei.github.io/posts/exp-java-day20/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://wjinlei.github.io/posts/exp-java-day22/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&text=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&is_video=false&description=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29&body=Check out this article: https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&name=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29&description=Java%208%20Stream%20%20%e4%b8%80%e4%b8%aa%e6%b5%81%20%e7%ae%80%e5%8c%96%e4%bb%a3%e7%a0%81%20%e4%b8%8d%e6%98%93%e5%87%ba%e9%94%99%20%e5%8f%af%e8%af%bb%e6%80%a7%2f%e5%8f%af%e7%bb%b4%e6%8a%a4%e6%80%a7%2b%2b%20%20%e4%bb%80%e4%b9%88%e6%98%af%e6%b5%81%20%e4%bd%a0%e5%8f%af%e4%bb%a5%e6%8a%8a%e5%ae%83%e6%83%b3%e8%b1%a1%e6%88%90%e4%b8%80%e6%9d%a1%e6%b0%b4%e6%b5%81%2c%e5%ae%83%e4%bc%9a%e6%8a%8a%e9%9b%86%e5%90%88%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0%e4%b8%80%e4%b8%aa%e4%b8%80%e4%b8%aa%e6%94%be%e5%85%a5%e8%bf%99%e6%9d%a1%e6%b0%b4%e6%b5%81%e4%b8%ad%0a%e6%97%a0%e8%ae%ba%e9%9b%86%e5%90%88%e6%98%af%e6%9c%89%e5%ba%8f%e7%9a%84%e8%bf%98%e6%98%af%e6%97%a0%e5%ba%8f%e7%9a%84%2c%e5%ae%83%e4%bb%ac%e5%9c%a8%e6%b5%81%e4%b8%ad%e9%83%bd%e4%bc%9a%e4%b8%80%e4%b8%aa%e4%b8%80%e4%b8%aa%e7%9a%84%e6%8c%89%e7%85%a7%e9%a1%ba%e5%ba%8f%e8%a2%ab%e5%8f%96%e5%87%ba%0a%e4%bd%a0%e5%8f%af%e4%bb%a5%e5%af%b9%e5%8f%96%e5%87%ba%e7%9a%84%e6%af%8f%e4%b8%80%e4%b8%aa%e5%85%83%e7%b4%a0%e5%81%9a%e6%97%a0%e9%99%90%e6%ac%a1%e6%95%b0%e7%9a%84%e4%b8%ad%e9%97%b4%e5%a4%84%e7%90%86%e5%92%8c%e4%b8%80%e6%ac%a1%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%0a%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%e5%90%8e%2c%e8%bf%99%e4%b8%aa%e6%b5%81%e5%b0%b1%e8%a2%ab%e9%94%80%e6%af%81%e4%ba%86%0a%e5%a6%82%e4%bd%95%e8%8e%b7%e5%be%97%e6%b5%81%20%e6%99%ae%e9%80%9a%e6%b5%81%20%20%e4%bb%bb%e4%bd%95%e7%9a%84%e9%9b%86%e5%90%88%e8%b0%83%e7%94%a8.stream%28%29%e6%96%b9%e6%b3%95%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%be%97%e5%88%b0%e4%b8%80%e4%b8%aa%e6%b5%81%20Stream.of%20String.chars%20IntStream.range%20%20%e5%b9%b6%e5%8f%91%e6%b5%81%20%e6%8b%bf%e5%88%b0%e4%b8%80%e4%b8%aa%e6%b5%81%e5%90%8e%e8%bf%98%e5%8f%af%e4%bb%a5%e6%8a%8a%e5%ae%83%e8%bd%ac%e6%8d%a2%e6%88%90%e5%b9%b6%e5%8f%91%e6%b5%81.parallel%28%29%0aCollection.parallelStream%28%29%20%e9%9b%86%e5%90%88%e4%b8%ad%e8%bf%99%e4%b8%aa%e6%96%b9%e6%b3%95%e4%b9%9f%e5%8f%af%e4%bb%a5%e8%bf%94%e5%9b%9e%e4%b8%80%e4%b8%aa%e5%b9%b6%e5%8f%91%e6%b5%81%0a%e5%b9%b6%e5%8f%91%e6%b5%81%e5%8f%af%e4%bb%a5%e7%94%a8%e5%9c%a8%e4%b8%80%e4%ba%9b%e4%b8%ad%e9%97%b4%e6%93%8d%e4%bd%9c%e7%9b%b8%e4%ba%92%e7%8b%ac%e7%ab%8b%e6%b2%a1%e6%9c%89%e4%be%9d%e8%b5%96%e5%85%b3%e7%b3%bb%e7%9a%84%e6%83%85%e5%86%b5%e4%b8%8b%2c%e5%8f%af%e4%bb%a5%e6%8f%90%e5%8d%87%e6%95%88%e7%8e%87%2c%e5%8f%af%e4%bb%a5%e5%b9%b6%e8%a1%8c%e7%9a%84%e7%8e%a9%e5%ae%8c%e6%88%90%0a%e5%b9%b6%e5%8f%91%e6%b5%81%e7%9a%84%e4%bd%bf%e7%94%a8%e8%a6%81%e7%9b%b8%e5%bd%93%e5%b0%8f%e5%bf%83%2c%e4%bd%a0%e8%a6%81%e7%a1%ae%e8%ae%a4%e6%98%af%e5%90%a6%e6%9c%89%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%e9%97%ae%e9%a2%98%2c%e4%b9%9f%e8%a6%81%e7%a1%ae%e8%ae%a4%e6%98%af%e5%90%a6%e7%bb%99%e4%bd%a0%e5%b8%a6%e6%9d%a5%e4%ba%86%e6%80%a7%e8%83%bd%e6%8f%90%e5%8d%87%0a%e5%90%a6%e5%88%99%e5%b0%b1%e5%bf%98%e6%8e%89%e5%ae%83%e5%90%a7%0a%e5%8f%af%e4%bb%a5%e5%af%b9%e6%b5%81%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0%e5%81%9a%e5%93%aa%e4%ba%9b%e4%b8%ad%e9%97%b4%e5%a4%84%e7%90%86%20%e5%b8%b8%e8%a7%81%e7%9a%84%e4%b8%ad%e9%97%b4%e6%93%8d%e4%bd%9c%20%20filter%20%e8%bf%87%e6%bb%a4%20sorted%20%e6%8e%92%e5%ba%8f%20map%20%e6%98%a0%e5%b0%84%20%20%e5%8f%af%e4%bb%a5%e5%af%b9%e6%b5%81%e5%81%9a%e5%93%aa%e4%ba%9b%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%20%e4%bb%bb%e4%bd%95%e8%bf%94%e5%9b%9e%e9%9d%9estream%e7%9a%84%e6%93%8d%e4%bd%9c%e9%83%bd%e6%98%af%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%0a%e5%b8%b8%e8%a7%81%e7%9a%84%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%20%20collect%20%e6%94%b6%e9%9b%86%20%20Collectors.toList%20Collectors.toSet%20Collectors.toCollection%20Collectors.groupingBy%20Collectors.partitioningBy%20Collectors.joining%20Collectors.summingInt%20%20%20forEach%20%e5%be%aa%e7%8e%af%e6%af%8f%e4%b8%aa%e5%85%83%e7%b4%a0%20count%2fmax%2fmin%20anyMatch%2fnoneMatch%20findFirst%2ffindAny%20%e7%94%a8%e5%9c%a8filter%e6%93%8d%e4%bd%9c%e4%b9%8b%e5%90%8e%2c%e5%8f%96%e7%ac%ac%e4%b8%80%e4%b8%aa%e6%88%96%e4%bb%bb%e6%84%8f%e5%8f%96%e4%b8%80%e4%b8%aa%2c%e8%bf%94%e5%9b%9e%e5%80%bc%e6%98%af%e4%b8%80%e4%b8%aaOptional%2c%e5%9b%a0%e4%b8%bafilter%e5%8f%af%e8%83%bd%e6%b2%a1%e6%9c%89%e5%8c%b9%e9%85%8d%e7%9a%84%20%20Optional%e7%9a%84%e6%ad%a3%e7%a1%ae%e7%94%a8%e6%b3%95%20%e4%b8%8d%e8%a6%81%e6%8a%8a%e5%ae%83%e5%bd%93%e6%88%90%e7%a9%ba%e6%8c%87%e9%92%88%e7%94%a8%2c%e5%ae%83%e7%9a%84%e6%ad%a3%e7%a1%ae%e7%94%a8%e6%b3%95%e6%98%af%e5%92%8c%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bb%91%e5%ae%9a%0apublic%20class%20Main%20%7b%20private%20static%20class%20User%20%7b%20private%20String%20name%3b%20private%20int%20age%3b%20public%20User%28String%20name%2c%20int%20age%29%20%7b%20this." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&t=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Java学习笔记(第二十一天)
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-11-16 19:59:52 &#43;0800 CST" itemprop="datePublished">2021-11-16</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          6 minute read
        </div>
        
        
        
      </div>
    </header>

  
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#java-8-stream">Java 8 Stream</a>
      <ul>
        <li><a href="#什么是流">什么是流</a></li>
        <li><a href="#如何获得流">如何获得流</a>
          <ul>
            <li><a href="#普通流">普通流</a></li>
            <li><a href="#并发流">并发流</a></li>
          </ul>
        </li>
        <li><a href="#可以对流中的元素做哪些中间处理">可以对流中的元素做哪些中间处理</a>
          <ul>
            <li><a href="#常见的中间操作">常见的中间操作</a></li>
          </ul>
        </li>
        <li><a href="#可以对流做哪些终结操作">可以对流做哪些终结操作</a>
          <ul>
            <li><a href="#常见的终结操作">常见的终结操作</a></li>
            <li><a href="#optional的正确用法">Optional的正确用法</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#stream-test">Stream Test</a></li>
  </ul>
</nav>
    </div>
    
    <div class="content" itemprop="articleBody">
      <h2 id="java-8-stream">Java 8 Stream</h2>
<ul>
<li>一个<code>流</code></li>
<li>简化代码</li>
<li>不易出错</li>
<li>可读性/可维护性++</li>
</ul>
<h3 id="什么是流">什么是流</h3>
<p>你可以把它想象成一条水流,它会把集合中的元素一个一个放入这条水流中<br>
无论集合是有序的还是无序的,它们在流中都会一个一个的按照顺序被取出<br>
你可以对取出的每一个元素做<code>无限次数的中间处理</code>和<code>一次终结操作</code><br>
终结操作后,这个流就被销毁了</p>
<h3 id="如何获得流">如何获得流</h3>
<h4 id="普通流">普通流</h4>
<ol>
<li>任何的集合调用<code>.stream()</code>方法就可以得到一个<code>流</code></li>
<li><code>Stream.of</code></li>
<li><code>String.chars</code></li>
<li><code>IntStream.range</code></li>
</ol>
<h4 id="并发流">并发流</h4>
<p>拿到一个流后还可以把它转换成并发流<code>.parallel()</code><br>
<code>Collection.parallelStream()</code> 集合中这个方法也可以返回一个并发流<br>
并发流可以用在一些中间操作相互独立没有依赖关系的情况下,可以提升效率,可以并行的玩完成<br>
并发流的使用要相当小心,你要确认是否有线程安全问题,也要确认是否给你带来了性能提升<br>
否则就忘掉它吧</p>
<h3 id="可以对流中的元素做哪些中间处理">可以对流中的元素做哪些中间处理</h3>
<h4 id="常见的中间操作">常见的中间操作</h4>
<ul>
<li>filter  <code>过滤</code></li>
<li>sorted  <code>排序</code></li>
<li>map <code>映射</code></li>
</ul>
<h3 id="可以对流做哪些终结操作">可以对流做哪些终结操作</h3>
<p>任何返回非<code>stream</code>的操作都是终结操作</p>
<h4 id="常见的终结操作">常见的终结操作</h4>
<ul>
<li>collect <code>收集</code>
<ul>
<li>Collectors.toList</li>
<li>Collectors.toSet</li>
<li>Collectors.toCollection</li>
<li>Collectors.groupingBy</li>
<li>Collectors.partitioningBy</li>
<li>Collectors.joining</li>
<li>Collectors.summingInt</li>
</ul>
</li>
<li>forEach <code>循环每个元素</code></li>
<li>count/max/min</li>
<li>anyMatch/noneMatch</li>
<li>findFirst/findAny <code>用在filter操作之后,取第一个或任意取一个,返回值是一个Optional,因为filter可能没有匹配的</code></li>
</ul>
<h4 id="optional的正确用法">Optional的正确用法</h4>
<p>不要把它当成空指针用,它的正确用法是和函数式绑定</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">private</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">User</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">private</span> String name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">private</span> <span style="color:#458;font-weight:bold">int</span> age<span style="color:#000;font-weight:bold">;</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#900;font-weight:bold">User</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">,</span> <span style="color:#458;font-weight:bold">int</span> age<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">age</span> <span style="color:#000;font-weight:bold">=</span> age<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setName</span><span style="color:#000;font-weight:bold">(</span>String name<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">getAge</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> age<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">setAge</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">int</span> age<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">age</span> <span style="color:#000;font-weight:bold">=</span> age<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> <span style="color:#458;font-weight:bold">boolean</span> <span style="color:#900;font-weight:bold">isWang</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> name<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">startsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;王&#34;</span><span style="color:#000;font-weight:bold">);</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        List<span style="color:#000;font-weight:bold">&lt;</span>User<span style="color:#000;font-weight:bold">&gt;</span> users <span style="color:#000;font-weight:bold">=</span> Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span>
                <span style="color:#000;font-weight:bold">new</span> User<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;张三&#34;</span><span style="color:#000;font-weight:bold">,</span> 20<span style="color:#000;font-weight:bold">),</span>
                <span style="color:#000;font-weight:bold">new</span> User<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;李四&#34;</span><span style="color:#000;font-weight:bold">,</span> 25<span style="color:#000;font-weight:bold">),</span>
                <span style="color:#000;font-weight:bold">new</span> User<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;王五&#34;</span><span style="color:#000;font-weight:bold">,</span> 23<span style="color:#000;font-weight:bold">));</span>

        <span style="color:#998;font-style:italic">// 反例
</span><span style="color:#998;font-style:italic"></span>        Optional<span style="color:#000;font-weight:bold">&lt;</span>User<span style="color:#000;font-weight:bold">&gt;</span> optionalUser <span style="color:#000;font-weight:bold">=</span> users<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stream</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>User<span style="color:#000;font-weight:bold">::</span>isWang<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">findAny</span><span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>optionalUser<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">isPresent</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
            System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>optionalUser<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">get</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">());</span>
        <span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">throw</span> <span style="color:#000;font-weight:bold">new</span> IllegalStateException<span style="color:#000;font-weight:bold">();</span>
        <span style="color:#000;font-weight:bold">}</span>
        
        <span style="color:#998;font-style:italic">// 正例
</span><span style="color:#998;font-style:italic"></span>        User user <span style="color:#000;font-weight:bold">=</span> users<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stream</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>User<span style="color:#000;font-weight:bold">::</span>isWang<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">findAny</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">orElseThrow</span><span style="color:#000;font-weight:bold">(</span>IllegalStateException<span style="color:#000;font-weight:bold">::</span><span style="color:#000;font-weight:bold">new</span><span style="color:#000;font-weight:bold">);</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>user<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getName</span><span style="color:#000;font-weight:bold">());</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><h2 id="stream-test">Stream Test</h2>
<ul>
<li>Test 1</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Problem2</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// 判断一段文本中是否包含关键词列表中的文本，如果包含任意一个关键词，返回true，否则返回false
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 例如，text=&#34;catcatcat,boyboyboy&#34;, keywords=[&#34;boy&#34;, &#34;girl&#34;]，返回true
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 例如，text=&#34;I am a boy&#34;, keywords=[&#34;cat&#34;, &#34;dog&#34;]，返回false
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">boolean</span> <span style="color:#900;font-weight:bold">containsKeyword</span><span style="color:#000;font-weight:bold">(</span>String text<span style="color:#000;font-weight:bold">,</span> List<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> keywords<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">return</span> keywords<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stream</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">anyMatch</span><span style="color:#000;font-weight:bold">(</span>text<span style="color:#000;font-weight:bold">::</span>contains<span style="color:#000;font-weight:bold">);</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>containsKeyword<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;catcatcat,boyboyboy&#34;</span><span style="color:#000;font-weight:bold">,</span> Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;boy&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;girl&#34;</span><span style="color:#000;font-weight:bold">)));</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>containsKeyword<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;I am a boy&#34;</span><span style="color:#000;font-weight:bold">,</span> Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;cat&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;dog&#34;</span><span style="color:#000;font-weight:bold">)));</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><ul>
<li>Test 2</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Problem3</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// 使用流的方法，再把之前的题目做一遍吧
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 统计一个给定的字符串中，大写英文字母（A,B,C,...,Z）出现的次数。
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 例如，给定字符串&#34;AaBbCc1234ABC&#34;，返回6，因为该字符串中出现了6次大写英文字母ABCABC
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">countUpperCaseLetters</span><span style="color:#000;font-weight:bold">(</span>String str<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">)</span> str<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">chars</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>Character<span style="color:#000;font-weight:bold">::</span>isUpperCase<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">count</span><span style="color:#000;font-weight:bold">();</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>countUpperCaseLetters<span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;AaBbCc1234ABC&#34;</span><span style="color:#000;font-weight:bold">));</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><ul>
<li>Test 3</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Problem5</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#000;font-weight:bold">static</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Order</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">private</span> Integer id<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">private</span> String name<span style="color:#000;font-weight:bold">;</span>

        Order<span style="color:#000;font-weight:bold">(</span>Integer id<span style="color:#000;font-weight:bold">,</span> String name<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">id</span> <span style="color:#000;font-weight:bold">=</span> id<span style="color:#000;font-weight:bold">;</span>
            <span style="color:#000;font-weight:bold">this</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span> <span style="color:#000;font-weight:bold">=</span> name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> Integer <span style="color:#900;font-weight:bold">getId</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> id<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>

        <span style="color:#000;font-weight:bold">public</span> String <span style="color:#900;font-weight:bold">getName</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
            <span style="color:#000;font-weight:bold">return</span> name<span style="color:#000;font-weight:bold">;</span>
        <span style="color:#000;font-weight:bold">}</span>
    <span style="color:#000;font-weight:bold">}</span>
    
    <span style="color:#998;font-style:italic">// 使用流的方法，把订单处理成ID-&gt;订单的映射
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 例如，传入参数[{id=1,name=&#39;肥皂&#39;},{id=2,name=&#39;牙刷&#39;}]
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 返回一个映射{1-&gt;Order(1,&#39;肥皂&#39;),2-&gt;Order(2,&#39;牙刷&#39;)}
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> Map<span style="color:#000;font-weight:bold">&lt;</span>Integer<span style="color:#000;font-weight:bold">,</span> Order<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#900;font-weight:bold">toMap</span><span style="color:#000;font-weight:bold">(</span>List<span style="color:#000;font-weight:bold">&lt;</span>Order<span style="color:#000;font-weight:bold">&gt;</span> orders<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">return</span> orders<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stream</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">collect</span><span style="color:#000;font-weight:bold">(</span>Collectors<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">toMap</span><span style="color:#000;font-weight:bold">((</span>order <span style="color:#000;font-weight:bold">-&gt;</span> order<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">id</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#000;font-weight:bold">(</span>order <span style="color:#000;font-weight:bold">-&gt;</span> order<span style="color:#000;font-weight:bold">)));</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>toMap<span style="color:#000;font-weight:bold">(</span>Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">new</span> Order<span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;肥皂&#34;</span><span style="color:#000;font-weight:bold">),</span> <span style="color:#000;font-weight:bold">new</span> Order<span style="color:#000;font-weight:bold">(</span>2<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;牙刷&#34;</span><span style="color:#000;font-weight:bold">))));</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><ul>
<li>Test 4</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Problem6</span> <span style="color:#000;font-weight:bold">{</span>
    <span style="color:#998;font-style:italic">// 使用流的方法，把所有长度等于1的单词挑出来，然后用逗号连接起来
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 例如，传入参数words=[&#39;a&#39;,&#39;bb&#39;,&#39;ccc&#39;,&#39;d&#39;,&#39;e&#39;]
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">// 返回字符串a,d,e
</span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> String <span style="color:#900;font-weight:bold">filterThenConcat</span><span style="color:#000;font-weight:bold">(</span>Set<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> words<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        <span style="color:#000;font-weight:bold">return</span> words<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">stream</span><span style="color:#000;font-weight:bold">().</span><span style="color:#008080">filter</span><span style="color:#000;font-weight:bold">(</span>ch <span style="color:#000;font-weight:bold">-&gt;</span> ch<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">length</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">==</span> 1<span style="color:#000;font-weight:bold">).</span><span style="color:#008080">collect</span><span style="color:#000;font-weight:bold">(</span>Collectors<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">joining</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;,&#34;</span><span style="color:#000;font-weight:bold">));</span>
    <span style="color:#000;font-weight:bold">}</span>

    <span style="color:#000;font-weight:bold">public</span> <span style="color:#000;font-weight:bold">static</span> <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">main</span><span style="color:#000;font-weight:bold">(</span>String<span style="color:#000;font-weight:bold">[]</span> args<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
        Set<span style="color:#000;font-weight:bold">&lt;</span>String<span style="color:#000;font-weight:bold">&gt;</span> set <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> LinkedHashSet<span style="color:#000;font-weight:bold">&lt;&gt;(</span>Arrays<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">asList</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;a&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;bb&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;ccc&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;d&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;e&#34;</span><span style="color:#000;font-weight:bold">));</span>
        System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>filterThenConcat<span style="color:#000;font-weight:bold">(</span>set<span style="color:#000;font-weight:bold">));</span>
    <span style="color:#000;font-weight:bold">}</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div>
    </div>
  </article>

  
  




  <div class="blog-post-comments">
    
      <div id="disquss_thread">
  <script src="https://utteranc.es/client.js"
    repo="Wjinlei/wjinlei.github.io"
    issue-term="pathname"
    label="Wjinlei"
    theme="github-light"
    crossorigin="anonymous"
    async>
  </script>
</div>

    
  </div>



  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&text=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&is_video=false&description=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29&body=Check out this article: https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&title=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&name=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29&description=Java%208%20Stream%20%20%e4%b8%80%e4%b8%aa%e6%b5%81%20%e7%ae%80%e5%8c%96%e4%bb%a3%e7%a0%81%20%e4%b8%8d%e6%98%93%e5%87%ba%e9%94%99%20%e5%8f%af%e8%af%bb%e6%80%a7%2f%e5%8f%af%e7%bb%b4%e6%8a%a4%e6%80%a7%2b%2b%20%20%e4%bb%80%e4%b9%88%e6%98%af%e6%b5%81%20%e4%bd%a0%e5%8f%af%e4%bb%a5%e6%8a%8a%e5%ae%83%e6%83%b3%e8%b1%a1%e6%88%90%e4%b8%80%e6%9d%a1%e6%b0%b4%e6%b5%81%2c%e5%ae%83%e4%bc%9a%e6%8a%8a%e9%9b%86%e5%90%88%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0%e4%b8%80%e4%b8%aa%e4%b8%80%e4%b8%aa%e6%94%be%e5%85%a5%e8%bf%99%e6%9d%a1%e6%b0%b4%e6%b5%81%e4%b8%ad%0a%e6%97%a0%e8%ae%ba%e9%9b%86%e5%90%88%e6%98%af%e6%9c%89%e5%ba%8f%e7%9a%84%e8%bf%98%e6%98%af%e6%97%a0%e5%ba%8f%e7%9a%84%2c%e5%ae%83%e4%bb%ac%e5%9c%a8%e6%b5%81%e4%b8%ad%e9%83%bd%e4%bc%9a%e4%b8%80%e4%b8%aa%e4%b8%80%e4%b8%aa%e7%9a%84%e6%8c%89%e7%85%a7%e9%a1%ba%e5%ba%8f%e8%a2%ab%e5%8f%96%e5%87%ba%0a%e4%bd%a0%e5%8f%af%e4%bb%a5%e5%af%b9%e5%8f%96%e5%87%ba%e7%9a%84%e6%af%8f%e4%b8%80%e4%b8%aa%e5%85%83%e7%b4%a0%e5%81%9a%e6%97%a0%e9%99%90%e6%ac%a1%e6%95%b0%e7%9a%84%e4%b8%ad%e9%97%b4%e5%a4%84%e7%90%86%e5%92%8c%e4%b8%80%e6%ac%a1%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%0a%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%e5%90%8e%2c%e8%bf%99%e4%b8%aa%e6%b5%81%e5%b0%b1%e8%a2%ab%e9%94%80%e6%af%81%e4%ba%86%0a%e5%a6%82%e4%bd%95%e8%8e%b7%e5%be%97%e6%b5%81%20%e6%99%ae%e9%80%9a%e6%b5%81%20%20%e4%bb%bb%e4%bd%95%e7%9a%84%e9%9b%86%e5%90%88%e8%b0%83%e7%94%a8.stream%28%29%e6%96%b9%e6%b3%95%e5%b0%b1%e5%8f%af%e4%bb%a5%e5%be%97%e5%88%b0%e4%b8%80%e4%b8%aa%e6%b5%81%20Stream.of%20String.chars%20IntStream.range%20%20%e5%b9%b6%e5%8f%91%e6%b5%81%20%e6%8b%bf%e5%88%b0%e4%b8%80%e4%b8%aa%e6%b5%81%e5%90%8e%e8%bf%98%e5%8f%af%e4%bb%a5%e6%8a%8a%e5%ae%83%e8%bd%ac%e6%8d%a2%e6%88%90%e5%b9%b6%e5%8f%91%e6%b5%81.parallel%28%29%0aCollection.parallelStream%28%29%20%e9%9b%86%e5%90%88%e4%b8%ad%e8%bf%99%e4%b8%aa%e6%96%b9%e6%b3%95%e4%b9%9f%e5%8f%af%e4%bb%a5%e8%bf%94%e5%9b%9e%e4%b8%80%e4%b8%aa%e5%b9%b6%e5%8f%91%e6%b5%81%0a%e5%b9%b6%e5%8f%91%e6%b5%81%e5%8f%af%e4%bb%a5%e7%94%a8%e5%9c%a8%e4%b8%80%e4%ba%9b%e4%b8%ad%e9%97%b4%e6%93%8d%e4%bd%9c%e7%9b%b8%e4%ba%92%e7%8b%ac%e7%ab%8b%e6%b2%a1%e6%9c%89%e4%be%9d%e8%b5%96%e5%85%b3%e7%b3%bb%e7%9a%84%e6%83%85%e5%86%b5%e4%b8%8b%2c%e5%8f%af%e4%bb%a5%e6%8f%90%e5%8d%87%e6%95%88%e7%8e%87%2c%e5%8f%af%e4%bb%a5%e5%b9%b6%e8%a1%8c%e7%9a%84%e7%8e%a9%e5%ae%8c%e6%88%90%0a%e5%b9%b6%e5%8f%91%e6%b5%81%e7%9a%84%e4%bd%bf%e7%94%a8%e8%a6%81%e7%9b%b8%e5%bd%93%e5%b0%8f%e5%bf%83%2c%e4%bd%a0%e8%a6%81%e7%a1%ae%e8%ae%a4%e6%98%af%e5%90%a6%e6%9c%89%e7%ba%bf%e7%a8%8b%e5%ae%89%e5%85%a8%e9%97%ae%e9%a2%98%2c%e4%b9%9f%e8%a6%81%e7%a1%ae%e8%ae%a4%e6%98%af%e5%90%a6%e7%bb%99%e4%bd%a0%e5%b8%a6%e6%9d%a5%e4%ba%86%e6%80%a7%e8%83%bd%e6%8f%90%e5%8d%87%0a%e5%90%a6%e5%88%99%e5%b0%b1%e5%bf%98%e6%8e%89%e5%ae%83%e5%90%a7%0a%e5%8f%af%e4%bb%a5%e5%af%b9%e6%b5%81%e4%b8%ad%e7%9a%84%e5%85%83%e7%b4%a0%e5%81%9a%e5%93%aa%e4%ba%9b%e4%b8%ad%e9%97%b4%e5%a4%84%e7%90%86%20%e5%b8%b8%e8%a7%81%e7%9a%84%e4%b8%ad%e9%97%b4%e6%93%8d%e4%bd%9c%20%20filter%20%e8%bf%87%e6%bb%a4%20sorted%20%e6%8e%92%e5%ba%8f%20map%20%e6%98%a0%e5%b0%84%20%20%e5%8f%af%e4%bb%a5%e5%af%b9%e6%b5%81%e5%81%9a%e5%93%aa%e4%ba%9b%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%20%e4%bb%bb%e4%bd%95%e8%bf%94%e5%9b%9e%e9%9d%9estream%e7%9a%84%e6%93%8d%e4%bd%9c%e9%83%bd%e6%98%af%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%0a%e5%b8%b8%e8%a7%81%e7%9a%84%e7%bb%88%e7%bb%93%e6%93%8d%e4%bd%9c%20%20collect%20%e6%94%b6%e9%9b%86%20%20Collectors.toList%20Collectors.toSet%20Collectors.toCollection%20Collectors.groupingBy%20Collectors.partitioningBy%20Collectors.joining%20Collectors.summingInt%20%20%20forEach%20%e5%be%aa%e7%8e%af%e6%af%8f%e4%b8%aa%e5%85%83%e7%b4%a0%20count%2fmax%2fmin%20anyMatch%2fnoneMatch%20findFirst%2ffindAny%20%e7%94%a8%e5%9c%a8filter%e6%93%8d%e4%bd%9c%e4%b9%8b%e5%90%8e%2c%e5%8f%96%e7%ac%ac%e4%b8%80%e4%b8%aa%e6%88%96%e4%bb%bb%e6%84%8f%e5%8f%96%e4%b8%80%e4%b8%aa%2c%e8%bf%94%e5%9b%9e%e5%80%bc%e6%98%af%e4%b8%80%e4%b8%aaOptional%2c%e5%9b%a0%e4%b8%bafilter%e5%8f%af%e8%83%bd%e6%b2%a1%e6%9c%89%e5%8c%b9%e9%85%8d%e7%9a%84%20%20Optional%e7%9a%84%e6%ad%a3%e7%a1%ae%e7%94%a8%e6%b3%95%20%e4%b8%8d%e8%a6%81%e6%8a%8a%e5%ae%83%e5%bd%93%e6%88%90%e7%a9%ba%e6%8c%87%e9%92%88%e7%94%a8%2c%e5%ae%83%e7%9a%84%e6%ad%a3%e7%a1%ae%e7%94%a8%e6%b3%95%e6%98%af%e5%92%8c%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bb%91%e5%ae%9a%0apublic%20class%20Main%20%7b%20private%20static%20class%20User%20%7b%20private%20String%20name%3b%20private%20int%20age%3b%20public%20User%28String%20name%2c%20int%20age%29%20%7b%20this." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwjinlei.github.io%2fposts%2fexp-java-day21%2f&t=Java%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0%28%e7%ac%ac%e4%ba%8c%e5%8d%81%e4%b8%80%e5%a4%a9%29" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  this 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
